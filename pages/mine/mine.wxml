<view class="ui-container">
    <view class="mem-top-img"></view>
    <view class="avatar-box">
        <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
            <image class="avatar" src="{{avatarUrl}}"></image>
        </button>
    </view>
    <view class="avatar-nick">
        <view>
            <input type="nickname" class="weui-input" placeholder="请输入昵称" bind:change="onChooseNickname"
                   value="{{nickname}}"/>
        </view>

    </view>

    <view class="white-box">
        <button class="row" style="width: 100%;" bindtap="goToPersonalInfo">
            <view class="left">
                <van-icon name="contact" color="#4ECDC4"/>
                <text class="text">个人信息 </text>
            </view>
            <view class="right">
                <van-icon name="arrow"/>
            </view>
        </button>
        <button class="row" style="width: 100%;" bindtap="onClickShow">
            <view class="left">
                <van-icon name="enlarge" color="green"/>
                <text class="text">关注公众号 </text>
            </view>
            <view class="right">
                <van-icon name="arrow"/>
            </view>
        </button>
        <button class="row" style="width: 100%;" bindtap="goToAboutUs">
            <view class="left">
                <van-icon name="info-o" color="#FF6B6B"/>
                <text class="text">关于我们 </text>
            </view>
            <view class="right">
                <van-icon name="arrow"/>
            </view>
        </button>
        <van-dialog
            id="van-dialog"
            use-slot
            title="截图扫码关注"
            show="{{ show }}"
            bind:close="onClose"
            showConfirmButton="false"
        >
            <view class="qrcode-container">
                <image class="qrcode-image" src="/static/img/gzh.jpg" mode="aspectFit"/>
            </view>
        </van-dialog>

    </view>

</view>
<view class="flex-bar fixed-bottom my-4">
    <view class="flex-sub pl-3">
        <view wx:if="{{isAuth && !isLogin}}" class="text-xl">
            <van-button round type="primary" bindtap="setLogin" block>授权登录</van-button>
        </view>
        <view wx:if="{{isAuth && isLogin}}" class="text-xl">
            <van-button round type="default" bindtap="cancelLogin" block>退出登录</van-button>
        </view>
        <view wx:if="{{!isAuth}}">
            <button class="ui-btn block bg-red-gradient shadow" bindtap="setLogin">登录失败
            </button>
        </view>

    </view>
</view>
<app-privacy></app-privacy>

